# ストレスシステム

魂（Soul）はタスク実行中にストレスが蓄積し、限界に達するとブレイクダウンを起こします。

## ストレス値

- **範囲**: 0.0 ～ 1.0（0% ～ 100%）
- **初期値**: 0.0

## 増減ロジック

### 増加

| 状況 | 変化率 | 100%到達時間 |
|------|--------|-------------|
| タスク + 監視下 | +0.105 × influence × dt | 約10秒 |
| タスク + 監視外 | +0.03 × dt | 約33秒 |

### 減少

| 状況 | 変化率 | 0%到達時間 |
|------|--------|-----------|
| 待機（影響範囲内） | ±0 | 変化なし |
| 待機（影響範囲外） | -0.02 × dt | 約50秒 |
| 集会中 | -0.04 × dt | 約25秒 |

## ブレイクダウン

ストレスが100%に達すると `StressBreakdown` コンポーネントが付与されます。

| ストレス値 | 状態 | 動作 |
|-----------|------|------|
| ≥ 100% | 発動 | 停止 + タスク放棄 + 使役解除 |
| ≤ 90% | 回復中 | 移動可能、使役拒否 |
| ≤ 70% | 完全回復 | `StressBreakdown` 削除、使役可能 |

## 関連ファイル

- `src/entities/damned_soul.rs` - `StressBreakdown` コンポーネント定義
- `src/systems/stress.rs` - ストレス更新およびブレイクダウン管理
- `src/systems/familiar_ai.rs` - リクルート時のチェック
