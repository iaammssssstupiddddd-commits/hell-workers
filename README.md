# Hell Workers

地獄の建設プロジェクトを指揮する、2Dピクセルアートの建築シミュレーションゲームです。

## コンセプト

プレイヤーは地獄の「所長」として、永遠に放置されてきた**怠惰な魂（Soul）**たちを使い、地獄の王のための大規模施設を建設します。

### ゲームの特徴

- **マクロマネジメント重視**: 個々の作業員を直接操作するのではなく、**使い魔（Familiar）**を通じて間接的に指揮します。
- **間接指揮**: 使い魔に建設エリアや優先度を指示し、Soulへの作業割り当ては使い魔が自動で行います。
- **リソース管理と物流**: 資源の調達・搬送・在庫管理を計画し、効率的な物流網を構築します。
- **怠惰な魂たち**: Soulは疲労やストレスでサボったり、井戸端会議を始めたり。マネジメントの腕が試されます。

### ファンタジー × 建築シミュレーション

本作は建築プロジェクト管理のリアルな面白さを、「地獄」というファンタジー設定でラップしています。
これにより、リアリティの追求や細かい突っ込みどころを軽減しつつ、**Rimworld**や**Factorio**が好きなプレイヤーに新鮮な体験を提供します。

### これは○○ではありません

- **マイクロマネジメントゲームではない**: 作業員を一人一人クリックして指示するゲームではありません。
- **戦闘・タワーディフェンスゲームではない**: 敵と戦うことが主目的ではありません。
- **忙しいリアルタイム操作ゲームではない**: 計画と管理が重要で、常に忙しく操作する必要はありません。

---

## 技術スタック

- **Engine**: Bevy 0.18
- **Language**: Rust (Edition 2024)
- **UI System**: Bevy UI + `bevy-inspector-egui` (debug)
- **Features**:
    - **ECS Relationships**: エンティティ間の複雑な関係（指揮、タスク、所持、格納）を効率的に管理。
    - **Optimized Task System**: 空間グリッドを活用した高速なタスク検索と割り当て。
    - **Soul AI**: 疲労、ストレス、やる気を持つ自律的な作業ユニット。
    - **Familiar AI**: Soulを指揮し、効率的な物流を構築するマネジメントユニット。

## ディレクトリ構成

- `src/`: Rust ソースコード
    - `entities/`: 主要なエンティティ（Soul、Familiar、建物など）の定義
    - `systems/`: ゲームロジック
        - `familiar_ai/`: 使い魔の管理・指揮ロジック
        - `soul_ai/`: Soulの作業・生命維持ロジック
        - `visual/`: プログレスバー、エフェクト等の視覚演出
        - `jobs/`: タスク発行・管理
    - `interface/`: UI コンポーネント
    - `plugins/`: Bevy プラグイン構成
- `docs/`: 技術仕様書、要件ドキュメント
- `proposals/`: 機能追加やリファクタリングの提案書
- `assets/`: スプライト、フォントなどのリソース
- `scripts/`: ユーティリティスクリプト（画像変換等）

## 開発の始め方

### ビルドと実行
```powershell
cargo run
```

### デバッグ
- `F12`: ワールドインスペクターのトグル
- `Space`: ポーズ / 再開（Virtual Time）

## 関連ドキュメント
詳細は [docs/README.md](docs/README.md) を参照してください。
